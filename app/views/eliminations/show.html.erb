<% provide(:title, @elimination.name) %>

<%# トーナメント共通ヘッダ %>
<%= render "shared/elimination_header", { elimination: @elimination, current_page: "トーナメント表" } %>

<%# 参加チームなしの場合 %>
<% if @teams.count < 2 %>
  <div class="container-lg my-3">
    <div class="alert alert-warning">参加チームが2チーム以上必要です</div>
  </div>

<% else %>

  <div class="container-lg">
    <p>
      <i class="bi bi-info-circle" style="color: goldenrod"></i>
      黄色をクリックして試合結果を更新します。
    </p>
  </div>

  <div class="bg-white border border-dark py-3">
    <div id="elimination-table-wrapper" class="container-lg elimination-table-wrapper">
      <%= render partial: "eliminations/main_race",
                 locals: { elimination: @elimination, teams: @teams, games: @games, round_offset: 0, final_round: @elimination.final_round, seed_table: @elimination.seed_table } %>
    </div>
  </div>

  <%= turbo_frame_tag "modal" %>
<% end %>
